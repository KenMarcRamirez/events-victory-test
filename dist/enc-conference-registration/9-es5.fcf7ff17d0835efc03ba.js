function _defineProperties(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{NUKG:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var r=e("8Y7J"),l=function(){var n=function n(){_classCallCheck(this,n)};return n.baseUrl="http://10.251.109.13/events2/api",n.mediaUrl="http://10.251.109.13/",n.EMAIL_REGEX=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n.PHONE_REGEX=/^(9)\d{9}$/,n.ngInjectableDef=r.Mb({factory:function(){return new n},token:n,providedIn:"root"}),n}()},"Xf/P":function(n,t,e){"use strict";e.r(t);var r=e("8Y7J"),l=function n(){_classCallCheck(this,n)},o=e("pMnS"),i=e("iInd"),a=e("SVse"),u=e("mrSG"),c=function(){function n(t,e,r,l){var o=this;_classCallCheck(this,n),this.activatedRoute=t,this.api=e,this.formBuilder=r,this.router=l,this.dataForm=this.formBuilder.group({congregation_id:[""],column:[""],value:[""],src:[""]}),this.activatedRoute.params.subscribe((function(n){console.log(n),o.church=n.slug,o.getCongregation()})),this.activatedRoute.queryParams.subscribe((function(n){return u.a(o,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.contactInformation=n.contact,t.next=3,this.checkContactType();case 3:this.dataForm.get("value").setValue(this.contactInformation),this.dataForm.get("column").setValue(this.contactType);case 5:case"end":return t.stop()}}),t,this)})))}))}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"checkContactType",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.contactType=isNaN(this.contactInformation)?"email":"mobile";case 1:case"end":return n.stop()}}),n,this)})))}},{key:"getCongregation",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.api.getCongregations();case 3:t=n.sent,this.selectedChurch=t.find((function(n){if(e.church===n.congregation)return n})),this.dataForm.get("congregation_id").setValue(this.selectedChurch.congregation_id),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"sendForOTP",value:function(){return u.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("congregation_id",this.dataForm.get("congregation_id").value),t.append("column",this.dataForm.get("column").value),t.append("value",this.dataForm.get("value").value),t.append("src","pre-register"===localStorage.getItem("source")?"1":"2"),n.prev=2,this.isLoading=!0,n.next=6,this.api.postOTP(t);case 6:e=n.sent,this.isLoading=!1,console.log("post otp",e),"success"===e.status&&(localStorage.setItem("otp_data",JSON.stringify(e)),r=[{contactMethod:this.dataForm.get("column").value},{contactDetails:this.dataForm.get("value").value},{congregation_id:this.dataForm.get("congregation_id").value}],this.router.navigate(["/otp/contact-verification-code/"+this.church],{queryParams:{contact:JSON.stringify(r)}})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0),this.isLoading=!1;case 13:case"end":return n.stop()}}),n,this,[[2,10]])})))}}]),n}(),s=e("oZWX"),p=e("s7LF"),d=r.ob({encapsulation:0,styles:[[".flex-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.message-alignment[_ngcontent-%COMP%]{width:50%;text-align:center}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}.dots[_ngcontent-%COMP%]{list-style-type:none;background:#fff;padding:20px 10px 20px 20px;margin:0;position:absolute;right:10px;top:40px}.dot[_ngcontent-%COMP%]{display:block;border-radius:100%;width:12px;height:12px;background:#ededed;cursor:pointer;color:#fff;font-size:8px;position:relative;z-index:2;border:1px solid gray}.line[_ngcontent-%COMP%]{position:relative;background:#d4d3d3;width:3px;height:25px;margin:0 4px}li[_ngcontent-%COMP%]:nth-child(3){background:gray}li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;z-index:3;font-size:8px;top:-4px;padding-left:3px;color:#fff}.spinner-container[_ngcontent-%COMP%]{flex-shrink:0;width:100%;height:100%;-webkit-transition-property:-webkit-transform;transition-property:transform,-webkit-transform;position:fixed;top:0;background-color:gray;opacity:.6}.spinner-border[_ngcontent-%COMP%]{place-self:center;width:80px;height:80px}"]],data:{}});function h(n){return r.Ib(0,[(n()(),r.qb(0,0,null,null,3,"div",[["class","d-flex justify-content-center spinner-container"]],null,null,null,null,null)),(n()(),r.qb(1,0,null,null,2,"div",[["class","spinner-border"],["role","status"]],null,null,null,null,null)),(n()(),r.qb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(n()(),r.Hb(-1,null,["Loading..."]))],null,null)}function f(n){return r.Ib(0,[(n()(),r.qb(0,0,null,null,25,"div",[["class","container-fluid"]],null,null,null,null,null)),(n()(),r.qb(1,0,null,null,24,"div",[["class","flex-container flex-center mt-lg-100"]],null,null,null,null,null)),(n()(),r.qb(2,0,null,null,7,"ul",[["class","dots"]],null,null,null,null,null)),(n()(),r.qb(3,0,null,null,0,"li",[["class","dot"]],null,null,null,null,null)),(n()(),r.qb(4,0,null,null,0,"li",[["class","line"]],null,null,null,null,null)),(n()(),r.qb(5,0,null,null,2,"li",[["class","dot"]],null,null,null,null,null)),(n()(),r.qb(6,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),r.Hb(-1,null,["2"])),(n()(),r.qb(8,0,null,null,0,"li",[["class","line"]],null,null,null,null,null)),(n()(),r.qb(9,0,null,null,0,"li",[["class","dot"]],null,null,null,null,null)),(n()(),r.qb(10,0,null,null,2,"div",[["class","pt-100 pb-50 message-alignment"]],null,null,null,null,null)),(n()(),r.qb(11,0,null,null,1,"p",[["class","font-avenir"]],null,null,null,null,null)),(n()(),r.Hb(-1,null,["ENC will send 6-digit One-Time-Pin (OTP) to the contact detail you provided."])),(n()(),r.qb(13,0,null,null,4,"div",[["class","pt-50 pb-50 message-alignment"]],null,null,null,null,null)),(n()(),r.qb(14,0,null,null,1,"p",[["class","font-avenir"]],null,null,null,null,null)),(n()(),r.Hb(15,null,["Is this your ","?"])),(n()(),r.qb(16,0,null,null,1,"p",[["class","font-avenir"]],null,null,null,null,null)),(n()(),r.Hb(17,null,["",""])),(n()(),r.qb(18,0,null,null,2,"div",[["class","pt-50"]],null,null,null,null,null)),(n()(),r.qb(19,0,null,null,1,"button",[["class","btn btn-blue"]],null,[[null,"click"]],(function(n,t,e){var r=!0;return"click"===t&&(r=!1!==n.component.sendForOTP()&&r),r}),null,null)),(n()(),r.Hb(20,null,["",""])),(n()(),r.qb(21,0,null,null,4,"a",[["class","pt-10 section-caption"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==r.Cb(n,22).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l}),null,null)),r.pb(22,671744,null,0,i.m,[i.k,i.a,a.h],{routerLink:[0,"routerLink"]},null),(n()(),r.qb(23,0,null,null,2,"u",[],null,null,null,null,null)),(n()(),r.qb(24,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),r.Hb(-1,null,["Change contact detail"])),(n()(),r.fb(16777216,null,null,1,null,h)),r.pb(27,16384,null,0,a.k,[r.N,r.K],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,22,0,"/otp/contact-information/"+e.church),n(t,27,0,e.isLoading)}),(function(n,t){var e=t.component;n(t,15,0,"email"===e.contactType?"email address":"phone number"),n(t,17,0,e.contactInformation),n(t,20,0,e.isLoading?"Processing...":"Yes"),n(t,21,0,r.Cb(t,22).target,r.Cb(t,22).href)}))}var g=r.mb("app-contact-verification",c,(function(n){return r.Ib(0,[(n()(),r.qb(0,0,null,null,1,"app-contact-verification",[],null,null,null,f,d)),r.pb(1,114688,null,0,c,[i.a,s.a,p.d,i.k],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),b=e("9AJC"),m=e("G0yt"),v=function n(){_classCallCheck(this,n)},k=e("j1ZV");e.d(t,"ContactVerificationModuleNgFactory",(function(){return y}));var y=r.nb(l,[],(function(n){return r.zb([r.Ab(512,r.j,r.Y,[[8,[o.a,g,b.a,b.b,b.h,b.i,b.e,b.f,b.g]],[3,r.j],r.w]),r.Ab(4608,a.m,a.l,[r.t,[2,a.B]]),r.Ab(4608,p.t,p.t,[]),r.Ab(4608,m.w,m.w,[r.j,r.q,m.lb,m.x]),r.Ab(4608,p.d,p.d,[]),r.Ab(1073742336,a.b,a.b,[]),r.Ab(1073742336,i.n,i.n,[[2,i.t],[2,i.k]]),r.Ab(1073742336,v,v,[]),r.Ab(1073742336,m.d,m.d,[]),r.Ab(1073742336,m.g,m.g,[]),r.Ab(1073742336,m.h,m.h,[]),r.Ab(1073742336,m.l,m.l,[]),r.Ab(1073742336,m.m,m.m,[]),r.Ab(1073742336,p.s,p.s,[]),r.Ab(1073742336,p.i,p.i,[]),r.Ab(1073742336,m.s,m.s,[]),r.Ab(1073742336,m.u,m.u,[]),r.Ab(1073742336,m.y,m.y,[]),r.Ab(1073742336,m.A,m.A,[]),r.Ab(1073742336,m.F,m.F,[]),r.Ab(1073742336,m.I,m.I,[]),r.Ab(1073742336,m.L,m.L,[]),r.Ab(1073742336,m.O,m.O,[]),r.Ab(1073742336,m.R,m.R,[]),r.Ab(1073742336,m.W,m.W,[]),r.Ab(1073742336,m.Z,m.Z,[]),r.Ab(1073742336,m.ab,m.ab,[]),r.Ab(1073742336,m.bb,m.bb,[]),r.Ab(1073742336,m.z,m.z,[]),r.Ab(1073742336,p.q,p.q,[]),r.Ab(1073742336,k.a,k.a,[]),r.Ab(1073742336,l,l,[]),r.Ab(1024,i.i,(function(){return[[{path:"",component:c}]]}),[])])}))},mrSG:function(n,t,e){"use strict";function r(n,t,e,r){return new(e||(e=Promise))((function(l,o){function i(n){try{u(r.next(n))}catch(t){o(t)}}function a(n){try{u(r.throw(n))}catch(t){o(t)}}function u(n){var t;n.done?l(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(i,a)}u((r=r.apply(n,t||[])).next())}))}e.d(t,"a",(function(){return r}))},oZWX:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e("mrSG"),l=e("NUKG"),o=e("8Y7J"),i=e("IheW"),a=function(){var n=function(){function n(t){_classCallCheck(this,n),this.http=t}return _createClass(n,[{key:"getCongregations",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.get("".concat(l.a.baseUrl,"/congregations?type=").concat(n)).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getCampus",value:function(){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.http.get("".concat(l.a.baseUrl,"/campus")).toPromise());case 1:case"end":return n.stop()}}),n,this)})))}},{key:"getNation",value:function(){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.http.get("".concat(l.a.baseUrl,"/countries")).toPromise());case 1:case"end":return n.stop()}}),n,this)})))}},{key:"postOTP",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(console.log(n),this.http.post("".concat(l.a.baseUrl,"/generate_otp"),n).toPromise()));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"validateOTP",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.post("".concat(l.a.baseUrl,"/validate_otp"),n).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"validateRegistrationCode",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.post("".concat(l.a.baseUrl,"/validate_registration"),n).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getRegistrationInformation",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.get("".concat(l.a.baseUrl,"/view_registration?reg_code=").concat(n)).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getPaymentHistory",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.get("".concat(l.a.baseUrl,"/payment_history?reg_code=").concat(n,"&event_id=000001")).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"processPayment",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.post("".concat(l.a.baseUrl,"/process_payment"),n).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}},{key:"register",value:function(n){return r.a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.http.post("".concat(l.a.baseUrl,"/save_registration"),n).toPromise());case 1:case"end":return t.stop()}}),t,this)})))}}]),n}();return n.ngInjectableDef=o.Mb({factory:function(){return new n(o.Nb(i.c))},token:n,providedIn:"root"}),n}()}}]);